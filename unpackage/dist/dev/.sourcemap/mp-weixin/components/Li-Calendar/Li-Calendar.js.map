{"version":3,"file":"Li-Calendar.js","sources":["components/Li-Calendar/Li-Calendar.vue","D:/ruanjian/HBuilderX.3.6.18.20230117/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovd2ViL2Nvb3FpL2ZqeXdxL2NvbXBvbmVudHMvTGktQ2FsZW5kYXIvTGktQ2FsZW5kYXIudnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class='calendar-Time-header under_line'>\r\n\t\t\t<text class='calendar-lastMonth' @tap=\"subMonth\" v-bind:class=\"{'calendar-btn-disabled' : lastDisabled }\">{{lastText}}</text>\r\n\t\t\t<text class='calendar-TimeH'>{{title_time}}</text>\r\n\t\t\t<text class='calendar-nextMonth' @tap=\"addMonth\" v-bind:class=\"{'calendar-btn-disabled' : nextDisabled }\">{{nextText}}</text>\r\n\t\t\t<text class='calendar-backToToday' @tap=\"backToToday\">回到今天</text>\r\n\t\t</view>\r\n\t\t<view class='ClearBoth'></view>\r\n\t\t<view class=\"calendar-content\">\r\n\t\t\t<view class=\"calendar-row calendar-header\">\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">日</view>\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">一</view>\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">二</view>\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">三</view>\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">四</view>\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">五</view>\r\n\t\t\t\t<view class=\"calendar-col aligncanter\">六</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"calendar-row calendar-day\" v-bind:style=\"{'transform':transformObj, 'transition-duration':transformTimeObj}\" @touchstart=\"touchstart\" @touchmove=\"touchmove\" @touchend=\"touchend\">\r\n\t\t\t\t<view class=\"calendar-col aligncanter calendar-col-lastMonth\" v-for='item in beforeDateList' v-bind:key='item.key'\r\n\t\t\t\t @tap=\"subMonth\" v-bind:class=\"{'calendar-out-of-Date' : item.outOfDate }\">{{item.dateIndex}}\r\n\t\t\t\t\t<text class='calendar-text'>{{item.markText}}</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"calendar-col aligncanter currentDays\" v-bind:class=\"{'calendar-active' : item.dateIndex == currentSelectTime\r\n\t\t\t\t, 'calendar-today' : item.isToday \r\n\t\t\t\t, 'calendar-range' : item.isRanges\r\n\t\t\t\t, 'calendar-out-of-Date' : item.outOfDate }\"\r\n\t\t\t\t v-for='item in dateList' v-bind:key='item.key' @tap=\"selectedDateFun(item.dateIndex)\">\r\n\t\t\t\t\t<view class='dayValue'>\r\n\t\t\t\t\t\t<text class='calendar-date calendar-day-6-7' v-if=\"item.isDaySunOrSat\">{{item.dateIndex}}</text>\r\n\t\t\t\t\t\t<text v-else class='calendar-date'>{{item.dateIndex}}</text>\r\n\t\t\t\t\t\t<text class='calendar-point' v-bind:style=\"{'color':item.pointTextColor?item.pointTextColor:maskColor}\">{{item.pointText}}</text>\r\n\t\t\t\t\t\t<text class='calendar-text' v-bind:style=\"{'color':item.markTextColor?item.markTextColor:maskColor}\">{{item.markText}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"calendar-col aligncanter calendar-col-nextMonth\" v-for='item in afterDateList' v-bind:key='item.key'\r\n\t\t\t\t @tap=\"addMonth\" v-bind:class=\"{'calendar-out-of-Date' : item.outOfDate }\">{{item.dateIndex}}\r\n\t\t\t\t\t<text class='calendar-text'>{{item.markText}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ClearBoth\"></view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport lunarYearTool from './sloarToLunar.js'\r\n\texport default {\r\n\t\tname: 'Li-Calendar',\r\n\t\tprops: {\r\n\t\t\t/**\r\n\t\t\t * @description 当前时间 yyyy-MM-dd\r\n\t\t\t */\r\n\t\t\tcurrentTime: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\tlet timeObj = new Date();\r\n\t\t\t\t\treturn timeObj.getFullYear() + \"-\" + (timeObj.getMonth() + 1) + \"-\" + timeObj.getDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 标记点列表\r\n\t\t\t * time\t标记时间\tyyyy-MM-dd\r\n\t\t\t * text\t标记内容 \r\n\t\t\t * markPoint 是否显示标记点 默认false\r\n\t\t\t * markTextColor 标记内容颜色\r\n\t\t\t * pointText 左上角标记点内容\r\n\t\t\t * pointTextColor 标记点颜色\r\n\t\t\t */\r\n\t\t\tmark: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 上月文字\r\n\t\t\t */\r\n\t\t\tlastText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '〈'\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 下月文字\r\n\t\t\t */\r\n\t\t\tnextText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '〉'\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 全局标记点颜色，包括点和文字\r\n\t\t\t */\r\n\t\t\tmaskColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#01AAED'\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 是否显示农历，mask优先级高\r\n\t\t\t */\r\n\t\t\tshowLunar: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 设置标记范围\r\n\t\t\t */\r\n\t\t\trange: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\trangeStart: undefined, //设置标记范围开始，yyyy-MM-dd\r\n\t\t\t\t\t\trangeEnd: undefined //设置标记范围结束，yyyy-MM-dd\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 是否开启范围选择模式\r\n\t\t\t */\r\n\t\t\trangeMode: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 日历起始时间 yyyy-MM-dd\r\n\t\t\t */\r\n\t\t\tdateStart: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '1970-01-01'\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 日历结束时间 yyyy-MM-dd\r\n\t\t\t */\r\n\t\t\tdateEnd: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '2100-12-31'\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description 是否可以滚动\r\n\t\t\t */\r\n\t\t\tcanDrag:{\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnextDisabled: false,\r\n\t\t\t\tlastDisabled: false,\r\n\t\t\t\tcurrentSelectTime: undefined, //点击时保存的dateIndex\r\n\t\t\t\ttitle_time: '', //顶头文本\r\n\t\t\t\tyear: undefined, //当前年\r\n\t\t\t\tmonth: undefined, //当前月\r\n\t\t\t\tbeforeDateList: [], //上个月的日期列表\r\n\t\t\t\tdateList: [], //本月的日期列表\r\n\t\t\t\tafterDateList: [], //下个月的日期列表\r\n\t\t\t\tfirstRangeSelected: false, // 范围开始时间是否已经选择\r\n\t\t\t\trangeStart_: undefined, //标记范围开始，yyyyMM-dd\r\n\t\t\t\trangeEnd_: undefined, //标记范围结束，yyyyMM-dd\r\n\t\t\t\ttransform_x:0,\r\n\t\t\t\ttransform_time:0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trender(setTimeStr) { //初始化\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet currentTimeStr = setTimeStr ? setTimeStr : that.currentTime;\r\n\t\t\t\tlet timeObj = this.toDateByStr(currentTimeStr); //当前选定的时间\r\n\t\t\t\t//计算头部显示的年月\r\n\t\t\t\tlet _tempTileMonth = (timeObj.getMonth() + 1);\r\n\t\t\t\tif (_tempTileMonth < 10)\r\n\t\t\t\t\t_tempTileMonth = '0' + _tempTileMonth;\r\n\t\t\t\tthis.title_time = timeObj.getFullYear() + \"年\" + _tempTileMonth + \"月\";\r\n\r\n\t\t\t\t//获取当前时间月份1号\r\n\t\t\t\tlet firstDayStr = timeObj.getFullYear() + \"/\" + (timeObj.getMonth() + 1) + \"/01\";\r\n\t\t\t\tlet date = that.toDateByStr(firstDayStr);\r\n\t\t\t\tthat.year = date.getFullYear();\r\n\t\t\t\tthat.month = date.getMonth() + 1;\r\n\t\t\t\tlet firstDayWeek = date.getDay(); //第一天是星期几\r\n\t\t\t\tlet grid_sum = 0; //总格子数 ，用于后面填满格子\r\n\t\t\t\t//获取上一个月的天数\r\n\t\t\t\tlet TempMonth;\r\n\t\t\t\tlet TempYear;\r\n\t\t\t\tif (that.month == 1) { //跨年\r\n\t\t\t\t\tTempMonth = 12;\r\n\t\t\t\t\tTempYear = that.year - 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tTempYear = that.year;\r\n\t\t\t\t\tTempMonth = that.month - 1;\r\n\t\t\t\t}\r\n\t\t\t\tlet TempLastMonthStr = TempYear + \"/\" + TempMonth + \"/01\";\r\n\t\t\t\tlet lastMonthTotalDay = that.getTotalDay(TempLastMonthStr);\r\n\t\t\t\tlet lastMonthStartDay = lastMonthTotalDay - firstDayWeek;\r\n\r\n\t\t\t\tlet _dateStart = that.toDateByStr1(that.dateStart);\r\n\t\t\t\tlet _dateEnd = that.toDateByStr1(that.dateEnd);\r\n\t\t\t\t// 创建前面的日期\r\n\t\t\t\tthat.beforeDateList = [];\r\n\t\t\t\tfor (let i = 0; i < firstDayWeek; i++) {\r\n\t\t\t\t\tgrid_sum++;\r\n\t\t\t\t\tlastMonthStartDay++;\r\n\t\t\t\t\tlet tempObj = {\r\n\t\t\t\t\t\tdateIndex: lastMonthStartDay,\r\n\t\t\t\t\t\tkey: 'before_' + i\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t//判断是否超出日期范围\r\n\t\t\t\t\tlet _tempBeforeDate = new Date(TempYear + \"/\" + TempMonth + \"/\" + lastMonthStartDay);\r\n\t\t\t\t\tif (_dateStart > _tempBeforeDate || _tempBeforeDate > _dateEnd) {\r\n\t\t\t\t\t\ttempObj.outOfDate = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//获取农历\r\n\t\t\t\t\tif (that.showLunar) {\r\n\t\t\t\t\t\tlet LunarDate = that.sloarToLunar(TempYear, TempMonth, lastMonthStartDay);\r\n\t\t\t\t\t\tlet tempLunarDay = LunarDate.lunarDay == '初一' ? LunarDate.lunarMonth + '月' : LunarDate.lunarDay;\r\n\t\t\t\t\t\ttempObj.markText = tempLunarDay;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.beforeDateList.push(tempObj);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//获取一个月的天数\r\n\t\t\t\tlet totalDay = that.getTotalDay(currentTimeStr);\r\n\t\t\t\t \r\n\t\t\t\t//生成本月日历\r\n\t\t\t\tlet today = new Date();\r\n\t\t\t\tlet today_year = today.getFullYear();\r\n\t\t\t\tlet today_month = today.getMonth() + 1;\r\n\t\t\t\tlet today_day = today.getDate();\r\n\t\t\t\tthat.dateList = [];\r\n\t\t\t\tfor (let i = 1; i <= totalDay; i++) { //循环日\r\n\t\t\t\t\tgrid_sum++;\r\n\r\n\t\t\t\t\tlet tempObj = {\r\n\t\t\t\t\t\tdateIndex: i,\r\n\t\t\t\t\t\tkey: 'date_' + i,\r\n\t\t\t\t\t\tisRanges: false,\r\n\t\t\t\t\t\tisToday: false\r\n\t\t\t\t\t};\r\n\t\t\t\t\t//当前日期变量\r\n\t\t\t\t\tlet tempDay = that.toDateByStr(that.year + \"/\" + that.month + \"/\" + i);\r\n\r\n\t\t\t\t\t//判断是否为当天\r\n\t\t\t\t\tif (today_year == that.year && today_month == that.month && today_day == i)\r\n\t\t\t\t\t\ttempObj.isToday = true;\r\n\r\n\t\t\t\t\t//周六和周日，特殊处理\r\n\t\t\t\t\tlet tempCurrWeek = tempDay.getDay();\r\n\t\t\t\t\tif (tempCurrWeek == 0 || tempCurrWeek == 6)\r\n\t\t\t\t\t\ttempObj.isDaySunOrSat = true;\r\n\r\n\t\t\t\t\t//判断是否超出日期范围\r\n\t\t\t\t\tif (_dateStart > tempDay || tempDay > _dateEnd) {\r\n\t\t\t\t\t\ttempObj.outOfDate = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//获取农历\r\n\t\t\t\t\tif (that.showLunar) {\r\n\t\t\t\t\t\tlet LunarDate = that.sloarToLunar(that.year, that.month, i);\r\n\t\t\t\t\t\tthat.lunarMonth = LunarDate.lunarMonth;\r\n\t\t\t\t\t\tthat.lunarYear = LunarDate.lunarYear;\r\n\t\t\t\t\t\tlet tempLunarDay = LunarDate.lunarDay == '初一' ? LunarDate.lunarMonth + '月' : LunarDate.lunarDay;\r\n\t\t\t\t\t\ttempObj.lunarMonth = LunarDate.lunarMonth;\r\n\t\t\t\t\t\ttempObj.lunarYear = LunarDate.lunarYear;\r\n\t\t\t\t\t\ttempObj.lunarDay = LunarDate.lunarDay;\r\n\t\t\t\t\t\ttempObj.markText = tempLunarDay;\r\n\t\t\t\t\t\ttempObj.markTextColor = '#454545';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//设置了标记点\r\n\t\t\t\t\tif (that.mark) {\r\n\t\t\t\t\t\tfor (let z = 0; z < that.mark.length; z++) { //判断是否为标记点\r\n\t\t\t\t\t\t\tlet tempDayMark = that.toDateByStr1(that.mark[z].time.trim())\r\n\t\t\t\t\t\t\tif (tempDay.getTime() == tempDayMark.getTime()) {\r\n\t\t\t\t\t\t\t\tlet tempTextStr = that.mark[z].text\r\n\t\t\t\t\t\t\t\tif (that.mark[z].markPoint != false) { // 是否显示点\r\n\t\t\t\t\t\t\t\t\ttempObj.pointText = that.mark[z].pointText ? that.mark[z].pointText : '●';\r\n\t\t\t\t\t\t\t\t\ttempObj.pointTextColor = that.mark[z].pointTextColor ? that.mark[z].pointTextColor : undefined;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (tempTextStr != undefined && tempTextStr != \"\") { // 是否显示文字\r\n\t\t\t\t\t\t\t\t\ttempObj.markText = tempTextStr;\r\n\t\t\t\t\t\t\t\t\ttempObj.markTextColor = that.mark[z].markTextColor ? that.mark[z].markTextColor : undefined;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.dateList.push(tempObj);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.setRange();\r\n\r\n\t\t\t\t// 创建后面的空白，补够五行\r\n\t\t\t\tthat.afterDateList = [];\r\n\t\t\t\tif (grid_sum < 42) { // 创建后面的空白，补够五行\r\n\t\t\t\t\tlet j = 0;\r\n\r\n\t\t\t\t\t//获取下一月\r\n\t\t\t\t\tlet TempMonthNext;\r\n\t\t\t\t\tlet TempYearNext;\r\n\t\t\t\t\tif (that.month == 12) { //跨年\r\n\t\t\t\t\t\tTempMonthNext = 1;\r\n\t\t\t\t\t\tTempYearNext = that.year + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tTempYearNext = that.year;\r\n\t\t\t\t\t\tTempMonthNext = that.month + 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let i = grid_sum; i < 42; i++) {\r\n\t\t\t\t\t\tj++;\r\n\r\n\t\t\t\t\t\tlet tempObj = {\r\n\t\t\t\t\t\t\tdateIndex: j,\r\n\t\t\t\t\t\t\tkey: 'after_' + j\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t//获取农历\r\n\t\t\t\t\t\tif (that.showLunar) {\r\n\t\t\t\t\t\t\tlet LunarDate = that.sloarToLunar(TempYearNext, TempMonthNext, j);\r\n\t\t\t\t\t\t\tlet tempLunarDay = LunarDate.lunarDay == '初一' ? LunarDate.lunarMonth + '月' : LunarDate.lunarDay;\r\n\t\t\t\t\t\t\ttempObj.markText = tempLunarDay;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//判断是否超出日期范围\r\n\t\t\t\t\t\tlet _tempAfterDate = new Date(TempYearNext + \"/\" + TempMonthNext + \"/\" + j);\r\n\t\t\t\t\t\tif (_dateStart > _tempAfterDate || _tempAfterDate > _dateEnd) {\r\n\t\t\t\t\t\t\ttempObj.outOfDate = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.afterDateList.push(tempObj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsloarToLunar(year,month,day){\r\n\t\t\t\t// console.log('----')\r\n\t\t\t\t// console.log(year + \"--\" +month+ \"--\" + day)\r\n\t\t\t\tlet result = lunarYearTool.sloarToLunar(year,month,day);\r\n\t\t\t\t//console.log(result)\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\tgetTotalDay(time) { //获取月 日期总数\r\n\t\t\t\ttime = time.replace(/-/g, \"/\");\r\n\t\t\t\tlet selectedDate = new Date(time);\r\n\t\t\t\tif (selectedDate == \"Invalid Date\") {\r\n\t\t\t\t\tselectedDate = new Date(time + \"/01\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet dayMany = new Date(selectedDate.getFullYear(),(selectedDate.getMonth() + 1), 0).getDate()\r\n\t\t\t\treturn dayMany;\r\n\t\t\t},\r\n\t\t\ttoDateByStr(timeStr) { //字符串转换时间，转换失败或者不传字符串则返回当前\r\n\t\t\t\tlet timeObj;\r\n\t\t\t\tif (timeStr) {\r\n\t\t\t\t\ttimeObj = new Date(timeStr.replace(/-/g, \"/\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!timeStr || timeObj == \"Invalid Date\")\r\n\t\t\t\t\ttimeObj = new Date();\r\n\t\t\t\treturn timeObj;\r\n\t\t\t},\r\n\t\t\ttoDateByStr1(timeStr) { //字符串转换时间，转换失败或者不传字符串则null\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet timeObj;\r\n\t\t\t\t\tif (timeStr) {\r\n\t\t\t\t\t\ttimeObj = new Date(timeStr.replace(/-/g, \"/\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!timeStr || timeObj == \"Invalid Date\")\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\treturn timeObj;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetTimeStrFormat(timeStr) { //获取格式化的时间 yyyy-MM-dd\r\n\t\t\t\tlet timeObj;\r\n\t\t\t\tif (timeStr) {\r\n\t\t\t\t\ttimeObj = new Date(timeStr.replace(/-/g, \"/\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!timeStr || timeObj == \"Invalid Date\")\r\n\t\t\t\t\ttimeObj = new Date();\r\n\t\t\t\treturn timeObj.getFullYear() + \"-\" + (timeObj.getMonth() + 1) + \"-\" + timeObj.getDate();\r\n\t\t\t},\r\n\t\t\tselectedDateFun(index) { //点击日期\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet selectObj = that.dateList[index - 1];\r\n\t\t\t\tselectObj.year = that.year;\r\n\t\t\t\tselectObj.month = that.month;\r\n\t\t\t\tselectObj.day = index;\r\n\t\t\t\tselectObj.time = that.year + \"-\" + that.month + \"-\" + index;\r\n\t\t\t\tthat.$emit('dayChange', selectObj);\r\n\r\n\t\t\t\t//判断是否超出日期范围\r\n\t\t\t\tif (that.checkOutOfDate(selectObj.time)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.currentSelectTime = index;\r\n\r\n\t\t\t\t//开启了范围选择模式\r\n\t\t\t\tif (that.rangeMode) {\r\n\t\t\t\t\tif (!that.firstRangeSelected) { //选择开始时间\r\n\t\t\t\t\t\tthat.firstRangeSelected = !that.firstRangeSelected\r\n\t\t\t\t\t\tthat.rangeStart_ = selectObj.time;\r\n\t\t\t\t\t\tthat.rangeEnd_ = undefined;\r\n\t\t\t\t\t\tthat.clearRange();\r\n\t\t\t\t\t} else { //选择了结束时间\r\n\t\t\t\t\t\tthat.rangeEnd_ = selectObj.time;\r\n\t\t\t\t\t\tthat.firstRangeSelected = !that.firstRangeSelected\r\n\t\t\t\t\t\tthat.$emit('rangeChange', {\r\n\t\t\t\t\t\t\tstart: that.rangeStart_,\r\n\t\t\t\t\t\t\tend: that.rangeEnd_,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.setRange();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddMonth() { //加一个月\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tlet _Month = that.month;\r\n\t\t\t\tlet _Year = that.year;\r\n\t\t\t\tif (that.month == 12) { //跨年\r\n\t\t\t\t\t_Month = 1;\r\n\t\t\t\t\t_Year += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_Month += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet str = _Year + \"/\" + _Month + \"/01\";\r\n\r\n\t\t\t\t//判断是否超出日期范围\r\n\t\t\t\tif (that.checkOutOfDate(str)) {\r\n\t\t\t\t\tthat.nextDisabled = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.month = _Month;\r\n\t\t\t\tthat.year = _Year;\r\n\t\t\t\tthat.lastDisabled = false;\r\n\r\n\t\t\t\t//检查日期上限值是否在当月内，如果在则不能再切换下个月\r\n\t\t\t\tif (that.checkDateRange(that.year, that.month, 1)) {\r\n\t\t\t\t\tthat.nextDisabled = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (that.rangeMode) { //开启了范围模式\r\n\t\t\t\t\tthat.currentSelectTime = undefined;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.$emit('monthChange', {\r\n\t\t\t\t\tdate: str\r\n\t\t\t\t});\r\n\t\t\t\tthat.render(str);\r\n\t\t\t},\r\n\t\t\tsubMonth() { //减一个月\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tlet _Month = that.month;\r\n\t\t\t\tlet _Year = that.year;\r\n\t\t\t\tif (that.month == 1) { //跨年\r\n\t\t\t\t\t_Month = 12;\r\n\t\t\t\t\t_Year -= 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_Month -= 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet str = _Year + \"/\" + _Month + \"/01\";\r\n\r\n\t\t\t\t//判断是否超出日期范围\r\n\t\t\t\tlet _totalDay = that.getTotalDay(str);\r\n\t\t\t\tif (that.checkOutOfDate(_Year + \"/\" + _Month + \"/\" + _totalDay)) {\r\n\t\t\t\t\tthat.lastDisabled = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.month = _Month;\r\n\t\t\t\tthat.year = _Year;\r\n\t\t\t\tthat.nextDisabled = false;\r\n\r\n\t\t\t\t//检查日期下限值是否在当月内，如果在则不能再切换上个月\r\n\t\t\t\tif (that.checkDateRange(that.year, that.month)) {\r\n\t\t\t\t\tthat.lastDisabled = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (that.rangeMode) { //开启了范围模式\r\n\t\t\t\t\tthat.currentSelectTime = undefined;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.$emit('monthChange', {\r\n\t\t\t\t\tdate: str\r\n\t\t\t\t});\r\n\t\t\t\tthat.render(str);\r\n\t\t\t},\r\n\t\t\tbackToToday() { //回到今天\r\n\t\t\t\tlet currDate = new Date();\r\n\t\t\t\tlet _year = currDate.getFullYear();\r\n\t\t\t\tlet _month = currDate.getMonth() + 1;\r\n\r\n\t\t\t\t//如果已经是当月\r\n\t\t\t\tif (_year == this.year && _month == this.month) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet value = _year + \"/\" + _month + \"/\" + currDate.getDate();\r\n\t\t\t\tthis.$emit('monthChange', {\r\n\t\t\t\t\tdate: value\r\n\t\t\t\t});\r\n\t\t\t\tthis.render(value);\r\n\t\t\t},\r\n\t\t\tsetRange() { //设置范围\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet rangeStartDate = that.toDateByStr1(that.rangeStart_);\r\n\t\t\t\tlet rangeEndDate = that.toDateByStr1(that.rangeEnd_);\r\n\t\t\t\tif (!rangeStartDate || !rangeEndDate)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tif (rangeStartDate > rangeEndDate) { //防止范围出错\r\n\t\t\t\t\tlet tempD = rangeEndDate;\r\n\t\t\t\t\trangeEndDate = rangeStartDate;\r\n\t\t\t\t\trangeStartDate = tempD;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//循环判断范围\r\n\t\t\t\tfor (let i = 0; i < that.dateList.length; i++) {\r\n\t\t\t\t\tlet _TempDtStr = that.year + \"/\" + that.month + \"/\" + that.dateList[i].dateIndex;\r\n\t\t\t\t\tlet _TempDt = that.toDateByStr1(_TempDtStr);\r\n\t\t\t\t\tthat.dateList[i].isRanges = false;\r\n\t\t\t\t\tif (rangeStartDate <= _TempDt && _TempDt <= rangeEndDate) //时间在范围内\r\n\t\t\t\t\t\tthat.dateList[i].isRanges = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearRange() { //关闭范围模式范围\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t//循环判断范围\r\n\t\t\t\tfor (let i = 0; i < that.dateList.length; i++) {\r\n\t\t\t\t\tthat.dateList[i].isRanges = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckOutOfDate(time) { //判断是否超出日期范围,yyyy-MM-dd\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet _dateStart = that.toDateByStr1(that.dateStart);\r\n\t\t\t\tlet _dateEnd = that.toDateByStr1(that.dateEnd);\r\n\t\t\t\tlet _tempDate = that.toDateByStr1(time);\r\n\t\t\t\tif (_dateStart > _tempDate || _tempDate > _dateEnd) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tcheckDateRange(year, month, type) { //判断范围界限值是否在当月内,yyyy-MM-dd,type；1 上限值,其他：下限值\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tlet totalDay = that.getTotalDay(year + '/' + month + '/01');\r\n\t\t\t\tlet firstD = that.toDateByStr1(year + '/' + month + '/01');\r\n\t\t\t\tlet lastD = that.toDateByStr1(year + '/' + month + '/' + totalDay);\r\n\r\n\t\t\t\tif (type == 1) { //上限值\r\n\t\t\t\t\tlet _dateEnd = that.toDateByStr1(that.dateEnd);\r\n\t\t\t\t\tif (firstD <= _dateEnd && _dateEnd <= lastD) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t} else { //下限值\r\n\t\t\t\t\tlet _dateStart = that.toDateByStr1(that.dateStart);\r\n\t\t\t\t\tif (firstD <= _dateStart && _dateStart <= lastD) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcalendarTransform(x,time){  //日历滑动动画\r\n\t\t\t\tthis.transform_x = x;\r\n\t\t\t\tthis.transform_time = time;\r\n\t\t\t},\r\n\t\t\ttouchstart(event) {\r\n\t\t\t\tif(!this.canDrag)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tthis.startPageX = event.touches[0].pageX;\r\n\t\t\t\tthis.startPageY = event.touches[0].pageY;\r\n\t\t\t},\r\n\t\t\ttouchmove(event) {\r\n\t\t\t\tif(!this.canDrag)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tlet touchmovePageX = event.touches[0].pageX;\r\n\t\t\t\tlet result = touchmovePageX - this.startPageX;\r\n\t\t\t\tthis.calendarTransform(result,0);\r\n\t\t\t},\r\n\t\t\ttouchend(event) {\r\n\t\t\t\tif(!this.canDrag)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet endPageX = event.changedTouches[0].pageX;\r\n\t\t\t\tlet endPageY = event.changedTouches[0].pageY;\r\n\t\t\t\tlet x = Math.abs(that.startPageX - endPageX); //横坐标之差\r\n\t\t\t\tlet y = Math.abs(that.startPageY - endPageY); //纵坐标之差\r\n\t\t\t\t\r\n\t\t\t\tlet screenX = 0;\r\n\t\t\t\ttry {\r\n\t\t\t\t    const res = uni.getSystemInfoSync();\r\n\t\t\t\t    screenX = res.windowWidth;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (that.startPageX > endPageX) { //左滑\r\n\t\t\t\t\tlet a = Math.atan(y / x);\r\n\t\t\t\t\tlet Rate = x / screenX;\r\n\t\t\t\t\tif (a < Math.PI / 6 && Rate > 0.3) {\r\n\t\t\t\t\t\tscreenX = -screenX;\r\n\t\t\t\t\t\tthat.calendarTransform(screenX,300);\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tthat.addMonth();\r\n\t\t\t\t\t\t\tthat.calendarTransform(0,0);\r\n\t\t\t\t\t\t},300);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthat.calendarTransform(0,300);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet a = Math.atan(y / x);\r\n\t\t\t\t\tlet Rate = x / screenX;\r\n\t\t\t\t\tif (a < Math.PI / 6 && Rate > 0.3) {\r\n\t\t\t\t\t\tthat.calendarTransform(screenX,300);\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tthat.subMonth();\r\n\t\t\t\t\t\t\tthat.calendarTransform(0,0);\r\n\t\t\t\t\t\t},300);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthat.calendarTransform(0,300);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurrentTime: function(val, oldVal) { //时间改变\r\n\t\t\t\tlet dateNew = this.toDateByStr1(val);\r\n\t\t\t\tif (dateNew.getFullYear() == this.year && (dateNew.getMonth() + 1) == this.month) {\r\n\t\t\t\t\tconsole.log('time is not change')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentSelectTime = dateNew.getDate();\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trange: function(val, oldVal) { //范围改变\r\n\t\t\t\tif (val.rangeStart != oldVal.rangeStart || val.rangeEnd != oldVal.rangeEnd) {\r\n\t\t\t\t\tthis.rangeStart_ = val.rangeStart;\r\n\t\t\t\t\tthis.rangeEnd_ = val.rangeEnd;\r\n\t\t\t\t\tthis.setRange();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmark: function(val, oldVal) { //标记改变\r\n\t\t\t\tthis.render();\r\n\t\t\t},\r\n\t\t\trangeMode: function(val, oldVal) { //范围改变\r\n\t\t\t\tif (!val) { //如果是关闭范围模式\r\n\t\t\t\t\tthis.rangeStart_ = undefined; //标记范围开始，yyyyMM-dd\r\n\t\t\t\t\tthis.rangeEnd_ = undefined; //标记范围结束，yyyyMM-dd\r\n\t\t\t\t\tthis.firstRangeSelected = false;\r\n\t\t\t\t\tthis.clearRange()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttransformObj:function () { \r\n\t\t\t\treturn 'translate3d(' + this.transform_x + 'px, 0px, 0px) translateZ(0px)';\n\t\t\t},\r\n\t\t\ttransformTimeObj:function () {\r\n\t\t\t\treturn this.transform_time + 'ms';\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"./Li-Calendar.css\");\r\n</style>\n","import Component from 'E:/web/cooqi/fjywq/components/Li-Calendar/Li-Calendar.vue'\nwx.createComponent(Component)"],"names":["lunarYearTool","uni"],"mappings":";;;AAkDC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA;AAAA;AAAA;AAAA,IAIN,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS,WAAW;AACnB,YAAI,UAAU,oBAAI;AAClB,eAAO,QAAQ,gBAAgB,OAAO,QAAQ,aAAa,KAAK,MAAM,QAAQ,QAAO;AAAA,MACtF;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUD,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS,WAAW;AACnB,eAAO;AAAA,MACR;AAAA,IACA;AAAA;AAAA;AAAA;AAAA,IAID,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS,WAAW;AACnB,eAAO;AAAA,UACN,YAAY;AAAA;AAAA,UACZ,UAAU;AAAA;AAAA,QACX;AAAA,MACD;AAAA,IACA;AAAA;AAAA;AAAA;AAAA,IAID,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,SAAS;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAID,SAAQ;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,EACD;AAAA,EACD,UAAU;AACT,SAAK,OAAM;AAAA,EACX;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,cAAc;AAAA,MACd,cAAc;AAAA,MACd,mBAAmB;AAAA;AAAA,MACnB,YAAY;AAAA;AAAA,MACZ,MAAM;AAAA;AAAA,MACN,OAAO;AAAA;AAAA,MACP,gBAAgB,CAAE;AAAA;AAAA,MAClB,UAAU,CAAE;AAAA;AAAA,MACZ,eAAe,CAAE;AAAA;AAAA,MACjB,oBAAoB;AAAA;AAAA,MACpB,aAAa;AAAA;AAAA,MACb,WAAW;AAAA;AAAA,MACX,aAAY;AAAA,MACZ,gBAAe;AAAA;EAEhB;AAAA,EACD,SAAS;AAAA,IACR,OAAO,YAAY;AAClB,UAAI,OAAO;AACX,UAAI,iBAAiB,aAAa,aAAa,KAAK;AACpD,UAAI,UAAU,KAAK,YAAY,cAAc;AAE7C,UAAI,iBAAkB,QAAQ,SAAW,IAAE;AAC3C,UAAI,iBAAiB;AACpB,yBAAiB,MAAM;AACxB,WAAK,aAAa,QAAQ,YAAY,IAAI,MAAM,iBAAiB;AAGjE,UAAI,cAAc,QAAQ,gBAAgB,OAAO,QAAQ,SAAW,IAAE,KAAK;AAC3E,UAAI,OAAO,KAAK,YAAY,WAAW;AACvC,WAAK,OAAO,KAAK;AACjB,WAAK,QAAQ,KAAK,SAAQ,IAAK;AAC/B,UAAI,eAAe,KAAK;AACxB,UAAI,WAAW;AAEf,UAAI;AACJ,UAAI;AACJ,UAAI,KAAK,SAAS,GAAG;AACpB,oBAAY;AACZ,mBAAW,KAAK,OAAO;AAAA,aACjB;AACN,mBAAW,KAAK;AAChB,oBAAY,KAAK,QAAQ;AAAA,MAC1B;AACA,UAAI,mBAAmB,WAAW,MAAM,YAAY;AACpD,UAAI,oBAAoB,KAAK,YAAY,gBAAgB;AACzD,UAAI,oBAAoB,oBAAoB;AAE5C,UAAI,aAAa,KAAK,aAAa,KAAK,SAAS;AACjD,UAAI,WAAW,KAAK,aAAa,KAAK,OAAO;AAE7C,WAAK,iBAAiB;AACtB,eAAS,IAAI,GAAG,IAAI,cAAc,KAAK;AACtC;AACA;AACA,YAAI,UAAU;AAAA,UACb,WAAW;AAAA,UACX,KAAK,YAAY;AAAA;AAIlB,YAAI,kBAAkB,oBAAI,KAAK,WAAW,MAAM,YAAY,MAAM,iBAAiB;AACnF,YAAI,aAAa,mBAAmB,kBAAkB,UAAU;AAC/D,kBAAQ,YAAY;AAAA,QACrB;AAGA,YAAI,KAAK,WAAW;AACnB,cAAI,YAAY,KAAK,aAAa,UAAU,WAAW,iBAAiB;AACxE,cAAI,eAAe,UAAU,YAAY,OAAO,UAAU,aAAa,MAAM,UAAU;AACvF,kBAAQ,WAAW;AAAA,QACpB;AAEA,aAAK,eAAe,KAAK,OAAO;AAAA,MACjC;AAGA,UAAI,WAAW,KAAK,YAAY,cAAc;AAG9C,UAAI,QAAQ,oBAAI;AAChB,UAAI,aAAa,MAAM;AACvB,UAAI,cAAc,MAAM,SAAQ,IAAK;AACrC,UAAI,YAAY,MAAM;AACtB,WAAK,WAAW;AAChB,eAAS,IAAI,GAAG,KAAK,UAAU,KAAK;AACnC;AAEA,YAAI,UAAU;AAAA,UACb,WAAW;AAAA,UACX,KAAK,UAAU;AAAA,UACf,UAAU;AAAA,UACV,SAAS;AAAA;AAGV,YAAI,UAAU,KAAK,YAAY,KAAK,OAAO,MAAM,KAAK,QAAQ,MAAM,CAAC;AAGrE,YAAI,cAAc,KAAK,QAAQ,eAAe,KAAK,SAAS,aAAa;AACxE,kBAAQ,UAAU;AAGnB,YAAI,eAAe,QAAQ;AAC3B,YAAI,gBAAgB,KAAK,gBAAgB;AACxC,kBAAQ,gBAAgB;AAGzB,YAAI,aAAa,WAAW,UAAU,UAAU;AAC/C,kBAAQ,YAAY;AAAA,QACrB;AAGA,YAAI,KAAK,WAAW;AACnB,cAAI,YAAY,KAAK,aAAa,KAAK,MAAM,KAAK,OAAO,CAAC;AAC1D,eAAK,aAAa,UAAU;AAC5B,eAAK,YAAY,UAAU;AAC3B,cAAI,eAAe,UAAU,YAAY,OAAO,UAAU,aAAa,MAAM,UAAU;AACvF,kBAAQ,aAAa,UAAU;AAC/B,kBAAQ,YAAY,UAAU;AAC9B,kBAAQ,WAAW,UAAU;AAC7B,kBAAQ,WAAW;AACnB,kBAAQ,gBAAgB;AAAA,QACzB;AAGA,YAAI,KAAK,MAAM;AACd,mBAAS,IAAI,GAAG,IAAI,KAAK,KAAK,QAAQ,KAAK;AAC1C,gBAAI,cAAc,KAAK,aAAa,KAAK,KAAK,CAAC,EAAE,KAAK,MAAM;AAC5D,gBAAI,QAAQ,QAAO,KAAM,YAAY,QAAO,GAAI;AAC/C,kBAAI,cAAc,KAAK,KAAK,CAAC,EAAE;AAC/B,kBAAI,KAAK,KAAK,CAAC,EAAE,aAAa,OAAO;AACpC,wBAAQ,YAAY,KAAK,KAAK,CAAC,EAAE,YAAY,KAAK,KAAK,CAAC,EAAE,YAAY;AACtE,wBAAQ,iBAAiB,KAAK,KAAK,CAAC,EAAE,iBAAiB,KAAK,KAAK,CAAC,EAAE,iBAAiB;AAAA,cACtF;AACA,kBAAI,eAAe,UAAa,eAAe,IAAI;AAClD,wBAAQ,WAAW;AACnB,wBAAQ,gBAAgB,KAAK,KAAK,CAAC,EAAE,gBAAgB,KAAK,KAAK,CAAC,EAAE,gBAAgB;AAAA,cACnF;AACA;AAAA,YACD;AAAA,UACD;AAAA,QACD;AAEA,aAAK,SAAS,KAAK,OAAO;AAAA,MAC3B;AAEA,WAAK,SAAQ;AAGb,WAAK,gBAAgB;AACrB,UAAI,WAAW,IAAI;AAClB,YAAI,IAAI;AAGR,YAAI;AACJ,YAAI;AACJ,YAAI,KAAK,SAAS,IAAI;AACrB,0BAAgB;AAChB,yBAAe,KAAK,OAAO;AAAA,eACrB;AACN,yBAAe,KAAK;AACpB,0BAAgB,KAAK,QAAQ;AAAA,QAC9B;AAEA,iBAAS,IAAI,UAAU,IAAI,IAAI,KAAK;AACnC;AAEA,cAAI,UAAU;AAAA,YACb,WAAW;AAAA,YACX,KAAK,WAAW;AAAA;AAGjB,cAAI,KAAK,WAAW;AACnB,gBAAI,YAAY,KAAK,aAAa,cAAc,eAAe,CAAC;AAChE,gBAAI,eAAe,UAAU,YAAY,OAAO,UAAU,aAAa,MAAM,UAAU;AACvF,oBAAQ,WAAW;AAAA,UACpB;AAGA,cAAI,iBAAiB,oBAAI,KAAK,eAAe,MAAM,gBAAgB,MAAM,CAAC;AAC1E,cAAI,aAAa,kBAAkB,iBAAiB,UAAU;AAC7D,oBAAQ,YAAY;AAAA,UACrB;AAEA,eAAK,cAAc,KAAK,OAAO;AAAA,QAChC;AAAA,MACD;AAAA,IACA;AAAA,IACD,aAAa,MAAK,OAAM,KAAI;AAG3B,UAAI,SAASA,mCAAAA,cAAc,aAAa,MAAK,OAAM,GAAG;AAEtD,aAAO;AAAA,IACP;AAAA,IACD,YAAY,MAAM;AACjB,aAAO,KAAK,QAAQ,MAAM,GAAG;AAC7B,UAAI,eAAe,IAAI,KAAK,IAAI;AAChC,UAAI,gBAAgB,gBAAgB;AACnC,uBAAe,oBAAI,KAAK,OAAO,KAAK;AAAA,MACrC;AAEA,UAAI,UAAU,IAAI,KAAK,aAAa,YAAa,GAAE,aAAa,aAAa,GAAI,CAAC,EAAE,QAAQ;AAC5F,aAAO;AAAA,IACP;AAAA,IACD,YAAY,SAAS;AACpB,UAAI;AACJ,UAAI,SAAS;AACZ,kBAAU,IAAI,KAAK,QAAQ,QAAQ,MAAM,GAAG,CAAC;AAAA,MAC9C;AACA,UAAI,CAAC,WAAW,WAAW;AAC1B,kBAAU,oBAAI;AACf,aAAO;AAAA,IACP;AAAA,IACD,aAAa,SAAS;AACrB,UAAI;AACH,YAAI;AACJ,YAAI,SAAS;AACZ,oBAAU,IAAI,KAAK,QAAQ,QAAQ,MAAM,GAAG,CAAC;AAAA,QAC9C;AACA,YAAI,CAAC,WAAW,WAAW;AAC1B,iBAAO;AACR,eAAO;AAAA,MACR,SAAS,GAAG;AACX,eAAO;AAAA,MACR;AAAA,IACA;AAAA,IACD,iBAAiB,SAAS;AACzB,UAAI;AACJ,UAAI,SAAS;AACZ,kBAAU,IAAI,KAAK,QAAQ,QAAQ,MAAM,GAAG,CAAC;AAAA,MAC9C;AACA,UAAI,CAAC,WAAW,WAAW;AAC1B,kBAAU,oBAAI;AACf,aAAO,QAAQ,gBAAgB,OAAO,QAAQ,aAAa,KAAK,MAAM,QAAQ,QAAO;AAAA,IACrF;AAAA,IACD,gBAAgB,OAAO;AACtB,UAAI,OAAO;AACX,UAAI,YAAY,KAAK,SAAS,QAAQ,CAAC;AACvC,gBAAU,OAAO,KAAK;AACtB,gBAAU,QAAQ,KAAK;AACvB,gBAAU,MAAM;AAChB,gBAAU,OAAO,KAAK,OAAO,MAAM,KAAK,QAAQ,MAAM;AACtD,WAAK,MAAM,aAAa,SAAS;AAGjC,UAAI,KAAK,eAAe,UAAU,IAAI,GAAG;AACxC;AAAA,MACD;AAEA,WAAK,oBAAoB;AAGzB,UAAI,KAAK,WAAW;AACnB,YAAI,CAAC,KAAK,oBAAoB;AAC7B,eAAK,qBAAqB,CAAC,KAAK;AAChC,eAAK,cAAc,UAAU;AAC7B,eAAK,YAAY;AACjB,eAAK,WAAU;AAAA,QAChB,OAAO;AACN,eAAK,YAAY,UAAU;AAC3B,eAAK,qBAAqB,CAAC,KAAK;AAChC,eAAK,MAAM,eAAe;AAAA,YACzB,OAAO,KAAK;AAAA,YACZ,KAAK,KAAK;AAAA,UACX,CAAC;AACD,eAAK,SAAQ;AAAA,QACd;AAAA,MACD;AAAA,IACA;AAAA,IACD,WAAW;AACV,UAAI,OAAO;AAEX,UAAI,SAAS,KAAK;AAClB,UAAI,QAAQ,KAAK;AACjB,UAAI,KAAK,SAAS,IAAI;AACrB,iBAAS;AACT,iBAAS;AAAA,aACH;AACN,kBAAU;AAAA,MACX;AAEA,UAAI,MAAM,QAAQ,MAAM,SAAS;AAGjC,UAAI,KAAK,eAAe,GAAG,GAAG;AAC7B,aAAK,eAAe;AACpB;AAAA,MACD;AAEA,WAAK,QAAQ;AACb,WAAK,OAAO;AACZ,WAAK,eAAe;AAGpB,UAAI,KAAK,eAAe,KAAK,MAAM,KAAK,OAAO,CAAC,GAAG;AAClD,aAAK,eAAe;AAAA,MACrB;AAEA,UAAI,KAAK,WAAW;AACnB,aAAK,oBAAoB;AAAA,MAC1B;AAEA,WAAK,MAAM,eAAe;AAAA,QACzB,MAAM;AAAA,MACP,CAAC;AACD,WAAK,OAAO,GAAG;AAAA,IACf;AAAA,IACD,WAAW;AACV,UAAI,OAAO;AAEX,UAAI,SAAS,KAAK;AAClB,UAAI,QAAQ,KAAK;AACjB,UAAI,KAAK,SAAS,GAAG;AACpB,iBAAS;AACT,iBAAS;AAAA,aACH;AACN,kBAAU;AAAA,MACX;AAEA,UAAI,MAAM,QAAQ,MAAM,SAAS;AAGjC,UAAI,YAAY,KAAK,YAAY,GAAG;AACpC,UAAI,KAAK,eAAe,QAAQ,MAAM,SAAS,MAAM,SAAS,GAAG;AAChE,aAAK,eAAe;AACpB;AAAA,MACD;AAEA,WAAK,QAAQ;AACb,WAAK,OAAO;AACZ,WAAK,eAAe;AAGpB,UAAI,KAAK,eAAe,KAAK,MAAM,KAAK,KAAK,GAAG;AAC/C,aAAK,eAAe;AAAA,MACrB;AAEA,UAAI,KAAK,WAAW;AACnB,aAAK,oBAAoB;AAAA,MAC1B;AAEA,WAAK,MAAM,eAAe;AAAA,QACzB,MAAM;AAAA,MACP,CAAC;AACD,WAAK,OAAO,GAAG;AAAA,IACf;AAAA,IACD,cAAc;AACb,UAAI,WAAW,oBAAI;AACnB,UAAI,QAAQ,SAAS;AACrB,UAAI,SAAS,SAAS,SAAQ,IAAK;AAGnC,UAAI,SAAS,KAAK,QAAQ,UAAU,KAAK,OAAO;AAC/C;AAAA,MACD;AAEA,UAAI,QAAQ,QAAQ,MAAM,SAAS,MAAM,SAAS;AAClD,WAAK,MAAM,eAAe;AAAA,QACzB,MAAM;AAAA,MACP,CAAC;AACD,WAAK,OAAO,KAAK;AAAA,IACjB;AAAA,IACD,WAAW;AACV,UAAI,OAAO;AACX,UAAI,iBAAiB,KAAK,aAAa,KAAK,WAAW;AACvD,UAAI,eAAe,KAAK,aAAa,KAAK,SAAS;AACnD,UAAI,CAAC,kBAAkB,CAAC;AACvB;AACD,UAAI,iBAAiB,cAAc;AAClC,YAAI,QAAQ;AACZ,uBAAe;AACf,yBAAiB;AAAA,MAClB;AAGA,eAAS,IAAI,GAAG,IAAI,KAAK,SAAS,QAAQ,KAAK;AAC9C,YAAI,aAAa,KAAK,OAAO,MAAM,KAAK,QAAQ,MAAM,KAAK,SAAS,CAAC,EAAE;AACvE,YAAI,UAAU,KAAK,aAAa,UAAU;AAC1C,aAAK,SAAS,CAAC,EAAE,WAAW;AAC5B,YAAI,kBAAkB,WAAW,WAAW;AAC3C,eAAK,SAAS,CAAC,EAAE,WAAW;AAAA,MAC9B;AAAA,IACA;AAAA,IACD,aAAa;AACZ,UAAI,OAAO;AAEX,eAAS,IAAI,GAAG,IAAI,KAAK,SAAS,QAAQ,KAAK;AAC9C,aAAK,SAAS,CAAC,EAAE,WAAW;AAAA,MAC7B;AAAA,IACA;AAAA,IACD,eAAe,MAAM;AACpB,UAAI,OAAO;AACX,UAAI,aAAa,KAAK,aAAa,KAAK,SAAS;AACjD,UAAI,WAAW,KAAK,aAAa,KAAK,OAAO;AAC7C,UAAI,YAAY,KAAK,aAAa,IAAI;AACtC,UAAI,aAAa,aAAa,YAAY,UAAU;AACnD,eAAO;AAAA,MACN;AACD,eAAO;AAAA,IACR;AAAA,IACD,eAAe,MAAM,OAAO,MAAM;AACjC,UAAI,OAAO;AAEX,UAAI,WAAW,KAAK,YAAY,OAAO,MAAM,QAAQ,KAAK;AAC1D,UAAI,SAAS,KAAK,aAAa,OAAO,MAAM,QAAQ,KAAK;AACzD,UAAI,QAAQ,KAAK,aAAa,OAAO,MAAM,QAAQ,MAAM,QAAQ;AAEjE,UAAI,QAAQ,GAAG;AACd,YAAI,WAAW,KAAK,aAAa,KAAK,OAAO;AAC7C,YAAI,UAAU,YAAY,YAAY,OAAO;AAC5C,iBAAO;AAAA,QACN;AACD,iBAAO;AAAA,aACF;AACN,YAAI,aAAa,KAAK,aAAa,KAAK,SAAS;AACjD,YAAI,UAAU,cAAc,cAAc,OAAO;AAChD,iBAAO;AAAA,QACN;AACD,iBAAO;AAAA,MACT;AAAA,IACA;AAAA,IACD,kBAAkB,GAAE,MAAK;AACxB,WAAK,cAAc;AACnB,WAAK,iBAAiB;AAAA,IACtB;AAAA,IACD,WAAW,OAAO;AACjB,UAAG,CAAC,KAAK;AACR;AACD,WAAK,aAAa,MAAM,QAAQ,CAAC,EAAE;AACnC,WAAK,aAAa,MAAM,QAAQ,CAAC,EAAE;AAAA,IACnC;AAAA,IACD,UAAU,OAAO;AAChB,UAAG,CAAC,KAAK;AACR;AACD,UAAI,iBAAiB,MAAM,QAAQ,CAAC,EAAE;AACtC,UAAI,SAAS,iBAAiB,KAAK;AACnC,WAAK,kBAAkB,QAAO,CAAC;AAAA,IAC/B;AAAA,IACD,SAAS,OAAO;AACf,UAAG,CAAC,KAAK;AACR;AACD,UAAI,OAAO;AACX,UAAI,WAAW,MAAM,eAAe,CAAC,EAAE;AACvC,UAAI,WAAW,MAAM,eAAe,CAAC,EAAE;AACvC,UAAI,IAAI,KAAK,IAAI,KAAK,aAAa,QAAQ;AAC3C,UAAI,IAAI,KAAK,IAAI,KAAK,aAAa,QAAQ;AAE3C,UAAI,UAAU;AACd,UAAI;AACA,cAAM,MAAMC,oBAAI;AAChB,kBAAU,IAAI;AAAA,MAClB,SAAS,GAAG;AACXA,sBAAAA,MAAc,MAAA,SAAA,iDAAA,CAAC;AACf;AAAA,MACD;AACA,UAAI,KAAK,aAAa,UAAU;AAC/B,YAAI,IAAI,KAAK,KAAK,IAAI,CAAC;AACvB,YAAI,OAAO,IAAI;AACf,YAAI,IAAI,KAAK,KAAK,KAAK,OAAO,KAAK;AAClC,oBAAU,CAAC;AACX,eAAK,kBAAkB,SAAQ,GAAG;AAClC,qBAAW,WAAU;AACpB,iBAAK,SAAQ;AACb,iBAAK,kBAAkB,GAAE,CAAC;AAAA,UAC1B,GAAC,GAAG;AAAA,QACN,OACI;AACH,eAAK,kBAAkB,GAAE,GAAG;AAAA,QAC7B;AAAA,aACM;AACN,YAAI,IAAI,KAAK,KAAK,IAAI,CAAC;AACvB,YAAI,OAAO,IAAI;AACf,YAAI,IAAI,KAAK,KAAK,KAAK,OAAO,KAAK;AAClC,eAAK,kBAAkB,SAAQ,GAAG;AAClC,qBAAW,WAAU;AACpB,iBAAK,SAAQ;AACb,iBAAK,kBAAkB,GAAE,CAAC;AAAA,UAC1B,GAAC,GAAG;AAAA,QACN,OACI;AACH,eAAK,kBAAkB,GAAE,GAAG;AAAA,QAC7B;AAAA,MACD;AAAA,IACD;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,aAAa,SAAS,KAAK,QAAQ;AAClC,UAAI,UAAU,KAAK,aAAa,GAAG;AACnC,UAAI,QAAQ,iBAAiB,KAAK,QAAS,QAAQ,SAAS,IAAI,KAAM,KAAK,OAAO;AACjFA,sBAAAA,MAAA,MAAA,OAAA,iDAAY,oBAAoB;AAAA,aAC1B;AACN,aAAK,oBAAoB,QAAQ;AACjC,aAAK,OAAM;AAAA,MACZ;AAAA,IACA;AAAA,IACD,OAAO,SAAS,KAAK,QAAQ;AAC5B,UAAI,IAAI,cAAc,OAAO,cAAc,IAAI,YAAY,OAAO,UAAU;AAC3E,aAAK,cAAc,IAAI;AACvB,aAAK,YAAY,IAAI;AACrB,aAAK,SAAQ;AAAA,MACd;AAAA,IACA;AAAA,IACD,MAAM,SAAS,KAAK,QAAQ;AAC3B,WAAK,OAAM;AAAA,IACX;AAAA,IACD,WAAW,SAAS,KAAK,QAAQ;AAChC,UAAI,CAAC,KAAK;AACT,aAAK,cAAc;AACnB,aAAK,YAAY;AACjB,aAAK,qBAAqB;AAC1B,aAAK,WAAW;AAAA,MACjB;AAAA,IACA;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACT,cAAa,WAAY;AACxB,aAAO,iBAAiB,KAAK,cAAc;AAAA,IAC3C;AAAA,IACD,kBAAiB,WAAY;AAC5B,aAAO,KAAK,iBAAiB;AAAA,IAC9B;AAAA,EACA;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClqBD,GAAG,gBAAgB,SAAS;"}