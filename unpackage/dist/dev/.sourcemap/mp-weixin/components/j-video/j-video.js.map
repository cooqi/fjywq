{"version":3,"file":"j-video.js","sources":["components/j-video/j-video.vue","D:/ruanjian/HBuilderX.3.6.18.20230117/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovd2ViL2Nvb3FpL2ZqeXdxL2NvbXBvbmVudHMvai12aWRlby9qLXZpZGVvLnZ1ZQ"],"sourcesContent":["<template>\r\n<view class=\"root\" :style=\"{width,height}\">\r\n\t<image :style=\"{width,height}\" class=\"posterImg\" :src=\"posterUrl\" mode=\"aspectFit\"></image>\r\n\t<view :style=\"{width,height}\" @click=\"play\" class=\"box\">\r\n\t\t<image class=\"playIcon\" src=\"../../static/play.png\" mode=\"widthFix\"></image>\r\n\t</view>\r\n\t<video\r\n\t\tid=\"myVideo\"\r\n\t\tstyle=\"width: 1px;height: 1px;\"\r\n\t\t:src=\"src\"\r\n\t\t@timeupdate=\"timeupdate\"\r\n\t\t@fullscreenchange=\"fullscreenchange\"\r\n\t></video>\r\n</view>\r\n</template>\r\n\r\n<script>\r\nvar videoContext;\r\n\texport default {\r\n\t\tmounted() {\r\n\t\t\tvideoContext = uni.createVideoContext('myVideo',this)\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tposterUrl(){\r\n\t\t\t\tif(this.poster) return this.poster\r\n\t\t\t\treturn this.src + '?x-oss-process=video/snapshot,t_'+(parseInt(this.currentTime*1000))+',f_jpg,w_800,m_fast'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tfullscreenchange(e){\r\n\t\t\t\tconsole.log(e.detail.fullScreen);\r\n\t\t\t\tthis.state = e.detail.fullScreen\r\n\t\t\t\tif(!e.detail.fullScreen){\r\n\t\t\t\t\tvideoContext.pause()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttimeupdate(e){\r\n\t\t\t\t// console.log(e.detail);\r\n\t\t\t\tthis.duration = e.detail.duration\r\n\t\t\t\tthis.currentTime = e.detail.currentTime\r\n\t\t\t},\r\n\t\t\tplay(){\r\n\t\t\t\tvideoContext.play()\r\n\t\t\t\tvideoContext.requestFullScreen({direction:this.direction})\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstate:false,\r\n\t\t\t\tcurrentTime:0,\r\n\t\t\t\tduration:0,\r\n\t\t\t\tvideoId:''\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tposter: {\r\n\t\t\t\ttype: [String,Boolean],\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn 'https://web-assets.dcloud.net.cn/unidoc/zh/schema2code-poster.jpg'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsrc: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdirection: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn -90\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn \"750rpx\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn \"450rpx\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n.root{\r\n\tposition:relative;\r\n\twidth: 750rpx;\r\n\theight: 300px;\r\n\toverflow: hidden;\r\n}\r\n.posterImg,.video,.box{\r\n\tdisplay: flex;\r\n\twidth: 750rpx;\r\n\theight: 300px;\r\n\tposition:absolute;\r\n}\r\n.posterImg{\r\n}\r\n.box{\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.playIcon{\r\n\twidth: 100rpx;\r\n}\r\n</style>\r\n","import Component from 'E:/web/cooqi/fjywq/components/j-video/j-video.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;;AAiBA,IAAI;AACH,MAAK,YAAU;AAAA,EACd,UAAU;AACT,mBAAeA,cAAG,MAAC,mBAAmB,WAAU,IAAI;AAAA,EACpD;AAAA,EACD,UAAS;AAAA,IACR,YAAW;AACV,UAAG,KAAK;AAAQ,eAAO,KAAK;AAC5B,aAAO,KAAK,MAAM,qCAAoC,SAAS,KAAK,cAAY,GAAI,IAAG;AAAA,IACxF;AAAA,EACA;AAAA,EACD,SAAQ;AAAA,IACP,iBAAiB,GAAE;AAClBA,oBAAY,MAAA,MAAA,OAAA,wCAAA,EAAE,OAAO,UAAU;AAC/B,WAAK,QAAQ,EAAE,OAAO;AACtB,UAAG,CAAC,EAAE,OAAO,YAAW;AACvB,qBAAa,MAAM;AAAA,MACpB;AAAA,IACA;AAAA,IACD,WAAW,GAAE;AAEZ,WAAK,WAAW,EAAE,OAAO;AACzB,WAAK,cAAc,EAAE,OAAO;AAAA,IAC5B;AAAA,IACD,OAAM;AACL,mBAAa,KAAK;AAClB,mBAAa,kBAAkB,EAAC,WAAU,KAAK,UAAS,CAAC;AAAA,IAC1D;AAAA,EACA;AAAA,EACD,OAAO,CACN;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,OAAM;AAAA,MACN,aAAY;AAAA,MACZ,UAAS;AAAA,MACT,SAAQ;AAAA;EAET;AAAA,EACD,OAAO;AAAA,IACN,QAAQ;AAAA,MACP,MAAM,CAAC,QAAO,OAAO;AAAA,MACrB,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,IACD,KAAK;AAAA,MACJ,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,IACD,OAAO;AAAA,MACN,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,IACD,WAAW;AAAA,MACV,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,IACD,OAAO;AAAA,MACN,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,IACD,QAAQ;AAAA,MACP,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACA;AACF;;;;;;;;;;;;;;;;;;AC7FD,GAAG,gBAAgB,SAAS;"}