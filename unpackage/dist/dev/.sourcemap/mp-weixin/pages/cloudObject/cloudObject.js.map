{"version":3,"file":"cloudObject.js","sources":["pages/cloudObject/cloudObject.vue","D:/ruanjian/HBuilderX.3.6.18.20230117/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2xvdWRPYmplY3QvY2xvdWRPYmplY3QudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" \r\n\t\t\t\t\t\t\t@scrolltolower=\"lower\" >\r\n\t\t<uni-card :sub-title=\"item.top?'置顶':''\" v-for=\"item in list\" :key=\"item._id\" :title=\"item.title\"  :extra=\"item.type\" >\r\n\t\t\r\n\t\t\t<view class=\"content\"  v-if=\"item.content\">\r\n\t\t\t\t<text class=\"uni-body\" user-select>{{item.content}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"imgs\" v-if=\"item.imgs\">\r\n\t\t\t\t<image @click=\"preImg(item.imgs,index)\" v-for=\"(img,index) in item.imgs.split(';')\" class=\"img\" :src=\"img\" mode=\"aspectFill\"></image>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"uni-body bz\">{{item.bz}}</text>\r\n\t\t\t<uni-link :href=\"item.url\" :text=\"item.url\"></uni-link>\r\n\t\t\t<view slot=\"actions\" class=\"card-actions\" v-if=\"item.type==='task'\">\r\n\t\t\t\t<view class=\"card-actions-item\" @click=\"addTask(item)\">\r\n\t\t\t\t\t<uni-icons type=\"heart\" size=\"18\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t<text class=\"card-actions-item-text\">添加到我的任务</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-card>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist:[],\r\n\t\t\t\turl:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareAppMessage: function () {\r\n\t\t   return {\r\n\t\t     title: '宇青青宇全肯定',\r\n\t\t     path: '/pages/cloudFunction/cloudFunction'\r\n\t\t   }\r\n\t\t },\r\n\t\t onShareTimeline: function () {\r\n\t\t    return {\r\n\t\t      title: '宇青青宇全肯定'\r\n\t\t    }\r\n\t\t  },\r\n\t\t  onLoad() {\r\n\t\t  \tthis.get()\r\n\t\t  },\r\n\t\t  onPullDownRefresh() {\r\n\t\t  \tthis.get()\r\n\t\t  },\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tget() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '处理中...'\r\n\t\t\t\t})\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'notice',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\ttype:'get'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\tthis.list=res.result.data\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: `查询失败，错误信息为：${err.message}`,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlower(){\r\n\t\t\t\talert(1)\r\n\t\t\t},\r\n\t\t\t addTask(item){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '处理中...'\r\n\t\t\t\t})\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst user = uni.getStorageSync('userInfo');\r\n\t\t\t\t\tconsole.log('user',user)\r\n\t\t\t\t\tif(!user){\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: `还未登录请先去登录`,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet userInfo=JSON.parse(user)\r\n\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\tname: 'user-todo',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\ttype: 'add',\r\n\t\t\t\t\t\t\tuserID: userInfo._id,\r\n\t\t\t\t\t\t\ttitle:item.title,\r\n\t\t\t\t\t\t\ttaskID:item._id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tconsole.log('res',res)\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tif(res.result.code){\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: `${res.result.message}`,\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: `成功添加为我的任务，可以去我的todo里查看`,\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: `添加数据失败，错误信息为：${err.message}`,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: `还未登录请先去登录`,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tactionsClick(url){\r\n\t\t\t\tthis.url=url\r\n\t\t\t},\r\n\t\t\tpreImg(imgs,i){\r\n\t\t\t\t// 预览图片\r\n\t\t\t\tconst urls=imgs.split(';')||[]\r\n\t\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\t\turls ,\r\n\t\t\t\t\t\t\tcurrent :i,\r\n\t\t\t\t\t\t\tlongPressActions: {\r\n\t\t\t\t\t\t\t\titemList: ['发送给朋友', '保存图片', '收藏'],\r\n\t\t\t\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('选中了第' + (data.tapIndex + 1) + '个按钮,第' + (data.index + 1) + '张图片');\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err.errMsg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.card-actions {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 45px;\r\n\t\t\tborder-top: 1px #eee solid;\r\n\t\t}\r\n\t\t\r\n\t\t.card-actions-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t\t.card-actions-item-text {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-left: 5px;\r\n\t\t}\r\n\r\n\t.content {\r\n\t\tborder-bottom:1px solid #ccc;\r\n\t\tpadding: 10px 0;\r\n\t}\r\n\t.bz{\r\n\t\tcolor: #aaa1ce;\r\n\t\tpadding: 5px 0;\r\n\t}\r\n\t.title {\r\n\t\tfont-weight: bold;\r\n\t\talign-items: center;\r\n\t\tpadding: 20px 0px;\r\n\t\tfont-size: 20px;\r\n\t}\r\n\r\n\t.tips {\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 14px;\r\n\t\tpadding: 20px 30px;\r\n\t}\r\n\r\n\t.btn-list {\r\n\t\tpadding: 0px 30px;\r\n\t}\r\n\r\n\t.btn-list button {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.upload-preview {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t#tip {\r\n\t\twidth: 750rpx;\r\n\t\talign-items: center;\r\n\t}\r\n\t.imgs{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\t.img{\r\n\t\t\twidth: 60px;height: 60px;margin: 10px;\r\n\t\t}\r\n\t}\r\n\t.uni-card .uni-card__header .uni-card__header-content .uni-card__header-content-subtitle {\r\n\t\twidth: 30px;text-align:center;background: #aaa1ce;color: #000!important;border-radius: 2px;padding: 2px;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'E:/web/cooqi/fjywq/pages/cloudObject/cloudObject.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;EA4BE,OAAA;AACC,WAAA;AAAA,MACC,MAAA,CAAA;AAAA;IAED;AAAA;;AAGE,WAAA;AAAA,MACE,OAAA;AAAA,MACA,MAAA;AAAA,IACF;AAAA;;AAGC,WAAA;AAAA,MACE,OAAA;AAAA,IACF;AAAA;EAEF,SAAA;AACC,SAAA,IAAA;AAAA;EAED,oBAAA;AACC,SAAA,IAAA;AAAA;EAEH,SAAA;AAAA;AAGEA,oBAAAA,MAAA,YAAA;AAAA;;;;;UAME,MAAA;AAAA,QACD;AAAA,MACD,CAAA,EAAA,KAAA,CAAA,QAAA;AACCA,sBAAAA,MAAA,YAAA;;;;MAID,CAAA,EAAA,MAAA,CAAA,QAAA;AACCA,sBAAAA,MAAA,YAAA;;AAEAA,sBAAAA,MAAA,UAAA;AAAA,UACC,SAAA,cAAA,IAAA,OAAA;AAAA,UACA,YAAA;AAAA;AAEDA,sBAAAA,MAAA,MAAA,SAAA,2CAAA,GAAA;AAAA;;IAGF,QAAA;AACC,YAAA,CAAA;AAAA;;AAGAA,oBAAAA,MAAA,YAAA;AAAA;;AAGA,UAAA;AACC,cAAA,OAAAA,cAAAA,MAAA,eAAA,UAAA;AACAA,sBAAAA,MAAA,MAAA,OAAA,2CAAA,QAAA,IAAA;AACA,YAAA,CAAA,MAAA;AACCA,wBAAAA,MAAA,YAAA;AACAA,wBAAAA,MAAA,UAAA;AAAA,YACC,SAAA;AAAA,YACA,YAAA;AAAA;;QAGF;;;UAGC,MAAA;AAAA;;YAGC,QAAA,SAAA;AAAA,YACA,OAAA,KAAA;AAAA,YACA,QAAA,KAAA;AAAA,UACD;AAAA,QACD,CAAA,EAAA,KAAA,CAAA,QAAA;AACCA,wBAAAA,MAAA,MAAA,OAAA,4CAAA,OAAA,GAAA;AACAA,wBAAAA,MAAA,YAAA;AACA,cAAA,IAAA,OAAA,MAAA;AACCA,0BAAAA,MAAA,UAAA;AAAA,cACC,SAAA,GAAA,IAAA,OAAA,OAAA;AAAA,cACA,YAAA;AAAA;;AAGDA,0BAAAA,MAAA,UAAA;AAAA,cACC,SAAA;AAAA,cACA,YAAA;AAAA;UAEF;AAAA,QAED,CAAA,EAAA,MAAA,CAAA,QAAA;AACCA,wBAAAA,MAAA,YAAA;AACAA,wBAAAA,MAAA,UAAA;AAAA,YACC,SAAA,gBAAA,IAAA,OAAA;AAAA,YACA,YAAA;AAAA;AAEDA,wBAAAA,MAAA,MAAA,SAAA,4CAAA,GAAA;AAAA;MAEF,SAAA,GAAA;AACCA,sBAAAA,MAAA,YAAA;AACAA,sBAAAA,MAAA,UAAA;AAAA,UACC,SAAA;AAAA,UACA,YAAA;AAAA;MAEF;AAAA;IAGD,aAAA,KAAA;;;IAGA,OAAA,MAAA,GAAA;;AAGGA,oBAAAA,MAAA,aAAA;AAAA;QAEC,SAAA;AAAA,QACA,kBAAA;AAAA,UACC,UAAA,CAAA,SAAA,QAAA,IAAA;AAAA;;;UAIA,MAAA,SAAA,KAAA;AACCA,0BAAA,MAAA,MAAA,OAAA,4CAAA,IAAA,MAAA;AAAA,UACD;AAAA,QACD;AAAA,MACD,CAAA;AAAA,IACH;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JD,GAAG,WAAW,eAAe;"}