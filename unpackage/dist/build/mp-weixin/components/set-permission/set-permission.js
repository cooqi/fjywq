"use strict";const e=require("../../common/vendor.js"),t=require("../../common/assets.js"),n={data:()=>({activeIndex:null,role:0,roles:[{value:0,text:"未登陆"},{value:"user",text:"用户"},{value:"auditor",text:"审核员"},{value:"admin",text:"管理员"}],showGuide:!1}),watch:{async activeIndex(t,n){let i=this.roles[t].value;if(e.index.showLoading({title:"切换账号类型中",mask:!0}),!t){let n=await this.logout();return console.log(n),e.index.setStorageSync("role_index",t),e.index.setStorageSync("uni_id_token",!1),e.index.setStorageSync("uni_id_uid",!1),e.index.setStorageSync("uni_id_token_expired",!1),this.$emit("change",{role:i,index:t}),e.index.hideLoading(),!1}e.tr.callFunction({name:"user-center",data:{action:"login",params:{username:i,password:"123456",needPermission:!0}},complete:n=>{e.index.setStorageSync("role_index",t),e.index.setStorageSync("uni_id_token",n.result.token),e.index.setStorageSync("uni_id_uid",n.result.uid),e.index.setStorageSync("uni_id_token_expired",n.result.tokenExpired),this.$emit("change",{role:i,index:t,uid:n.result.uid}),e.index.hideLoading()}})}},async beforeDestroy(){},mounted(){this.activeIndex=e.index.getStorageSync("role_index")||0},methods:{logout:async()=>await e.tr.callFunction({name:"user-center",data:{action:"logout"}}),init(e){this.activeIndex=e}}};const i=e._export_sfc(n,[["render",function(n,i,o,d,a,r){return e.e({a:a.showGuide},(a.showGuide,{}),{b:e.f(a.roles,((t,n,i)=>({a:e.t(t.text),b:t.value,c:a.activeIndex==n?1:"",d:e.o((e=>a.activeIndex=n),t.value)}))),c:170*a.activeIndex+"rpx",d:a.showGuide},a.showGuide?{e:e.o((e=>a.showGuide=!1)),f:t._imports_0$1}:{},{g:170*a.roles.length+"rpx"})}],["__scopeId","data-v-e505f3f8"]]);wx.createComponent(i);
